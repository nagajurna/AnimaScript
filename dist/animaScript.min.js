function AnimaScript(a){this.element=a.element,void 0===a.unit?this.unit="c":this.unit=a.unit,void 0===a.type?this.type="n":this.type=a.type,void 0===a.delay?this.delay=250:this.delay=a.delay,void 0===a.duration?this.duration=1e3:this.duration=a.duration,this.text=this.getCharacters(),this.reversedText=this.getCharacters().reverse(),this.charactersCount=this.getCounts().characters,this.wordsCount=this.getCounts().words}AnimaScript.prototype.getTextNodes=function(){var a=[],b=function(c){for(var d=0;d<c.childNodes.length;d++)if(3==c.childNodes[d].nodeType){var e={};e.parent=c.childNodes[d].parentNode,e.nodeIndex=d,e.value=c.childNodes[d].nodeValue.split(""),a.push(e)}else b(c.childNodes[d]);return a};return b(this.element)},AnimaScript.prototype.getCharacters=function(){for(var a=this.getTextNodes(),b=[],c=0;c<a.length;c++)for(var d=0;d<a[c].value.length;d++){var e={};e.value=a[c].value[d],e.element=a[c].parent,e.nodeIndex=a[c].nodeIndex,b.push(e)}return b},AnimaScript.prototype.getCounts=function(){for(var a=this.getTextNodes(),b={},c=[],d=0;d<a.length;d++)c=c.concat(a[d].value);b.characters=c.length;var e=c.toString(),f=e.match(/ |\u00A0/g);return b.words=f.length+1,b},AnimaScript.prototype.emptyNodes=function(){var a=this.element,b=this.getTextNodes(),c=window.getComputedStyle(a);"inline"!==c.display&&(a.style.width=a.clientWidth+"px",a.style.height=a.clientHeight+"px","0px"!==c.marginTop&&(a.style.marginTop=c.marginTop),"0px"!==c.marginBottom&&(a.style.marginBottom=c.marginBottom)),a.style.visibility="hidden";for(var d=0;d<b.length;d++)b[d].parent.childNodes[b[d].nodeIndex].nodeValue=""},AnimaScript.prototype.spellCharacters=function(){function a(){j.style.visibility="visible",i=window.setInterval(function(){b()},l)}function b(){1==q?c():d()}function c(){var a;o>=0?(a=n[o],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,o-=1,q=!1):window.clearInterval(i)}function d(){var a;p<=n.length-1?(a=n[p],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,p+=1,q=!0):window.clearInterval(i)}function e(){j.style.visibility="visible",i=window.setInterval(function(){f()},l)}function f(){var a;o<=n.length-1?(a=n[o],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,o+=1):window.clearInterval(i)}function g(){j.style.visibility="visible",i=window.setInterval(function(){h()},l)}function h(){var a;o<=n.length-1?(a=n[o],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,o+=1):window.clearInterval(i)}this.emptyNodes();var i,j=this.element,k=this.delay,l=this.duration/this.charactersCount,m=this.type;if("m"==m){var n=this.text,o=Math.ceil(n.length/2)-1,p=o+1,q=!0;window.setTimeout(function(){a()},k)}else if("r"==m){var o=0,n=this.reversedText;window.setTimeout(function(){e()},k)}else{var n=this.text,o=0;window.setTimeout(function(){g()},k)}},AnimaScript.prototype.spellWords=function(){function a(){j.style.visibility="visible",i=window.setInterval(function(){b()},l)}function b(){1==q?c():d()}function c(){var a;do{if(!(o>=0)){window.clearInterval(i);break}a=n[o],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,o-=1,q=!1}while(" "!=a.value&&" "!=a.value)}function d(){var a;do{if(!(p<=n.length-1)){window.clearInterval(i);break}a=n[p],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,p+=1,q=!0}while(" "!=a.value&&" "!=a.value)}function e(){j.style.visibility="visible",i=window.setInterval(function(){f()},l)}function f(){var a;do{if(!(o<=n.length-1)){window.clearInterval(i);break}a=n[o],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,o+=1}while(" "!=a.value&&" "!=a.value)}function g(){j.style.visibility="visible",i=window.setInterval(function(){h()},l)}function h(){var a;do{if(!(o<=n.length-1)){window.clearInterval(i);break}a=n[o],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,o+=1}while(" "!=a.value&&" "!=a.value)}this.emptyNodes();var i,j=this.element,k=this.delay,l=this.duration/this.wordsCount,m=this.type;if("m"==m){var n=this.text,o=Math.ceil(n.length/2)-1,p=o+1,q=!0;window.setTimeout(function(){a()},k)}else if("r"==m){var o=0,n=this.reversedText;window.setTimeout(function(){e()},k)}else{var n=this.text,o=0;window.setTimeout(function(){g()},k)}},AnimaScript.prototype.spell=function(){return"c"==this.unit?this.spellCharacters():"w"==this.unit?this.spellWords():void 0};