function AnimaScript(a){this.element=a.element,void 0===a.type?this.type="n":this.type=a.type,void 0===a.delay?this.delay=250:this.delay=a.delay,void 0===a.duration?this.duration=1e3:this.duration=a.duration,this.text=this.getCharacters(),this.reversedText=this.text.reverse()}AnimaScript.prototype.getTextNodes=function(){var a=[],b=function(c){for(var d=0;d<c.childNodes.length;d++)if(3==c.childNodes[d].nodeType){var e={};e.parent=c.childNodes[d].parentNode,e.nodeIndex=d,e.value=c.childNodes[d].nodeValue.split(""),a.push(e)}else b(c.childNodes[d]);return a};return b(this.element)},AnimaScript.prototype.getCharacters=function(){for(var a=this.getTextNodes(),b=[],c=0;c<a.length;c++)for(var d=0;d<a[c].value.length;d++){var e={};e.value=a[c].value[d],e.element=a[c].parent,e.nodeIndex=a[c].nodeIndex,b.push(e)}return b},AnimaScript.prototype.emptyNodes=function(){var a=this.element,b=this.getTextNodes(),c=window.getComputedStyle(a);"inline"!==c.display&&(a.style.width=a.clientWidth+"px",a.style.height=a.clientHeight+"px","0px"!==c.marginTop&&(a.style.marginTop=c.marginTop),"0px"!==c.marginBottom&&(a.style.marginBottom=c.marginBottom)),a.style.visibility="hidden";for(var d=0;d<b.length;d++)b[d].parent.childNodes[b[d].nodeIndex].nodeValue=""},AnimaScript.prototype.spell=function(a){function b(){k.style.visibility="visible",j=window.setInterval(function(){c()},2*m)}function c(){d(),e()}function d(){var a;p>=0?(a=o[p],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,p-=1):window.clearInterval(j)}function e(){var a;q<=o.length-1?(a=o[q],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,q+=1):window.clearInterval(j)}function f(){k.style.visibility="visible",j=window.setInterval(function(){g()},m)}function g(){var a;p<=o.length-1?(a=o[p],a.element.childNodes[a.nodeIndex].nodeValue=a.value+a.element.childNodes[a.nodeIndex].nodeValue,p+=1):window.clearInterval(j)}function h(){k.style.visibility="visible",j=window.setInterval(function(){i()},m)}function i(){var a;r>=p?(a=o[p],a.element.childNodes[a.nodeIndex].nodeValue+=a.value,p+=1):window.clearInterval(j)}var a;a=void 0!==a?a:null,this.emptyNodes();var j,k=this.element,l=this.delay,m=this.duration/this.text.length,n=this.type;if("m"==n){var o=this.text,p=Math.ceil(o.length/2)-1,q=p+1;window.setTimeout(function(){b()},l)}else if("r"==n){var p=0,o=this.reversedText;window.setTimeout(function(){f()},l)}else{var r,o=this.text,p=0;r=null===a?o.length-1:a,window.setTimeout(function(){h()},l)}};